<!DOCTYPE html>
<html>

<head>
    <title>Telegram</title>
</head>

<body>
    <h1>Http协议</h1>
    <h2>dns报文</h2>
    <h2>http报文</h2>
    <h2>tcp/udp报文</h2>
    <h2>ip报文</h2>
    <p>
        一份IP报文由两部分组成，分别是：头部和数据部。 头部的组成：
        <br> （1）版本号：4位。表示该IP报文使用的IP协议版本
        <br> （2）头长度：4位。此域指出整个报头的长度（包括选项）
        <br> （3）服务类型：8位。用于规定报文的处理方式。 优先权：占用3位，数值（十进制0~7）越大，表示该报文优先权越高。网络中路由器可以使用优先权进行拥塞控制， 如当网络发生拥塞时可以根据数据报的优先权来决定报文的取舍。 短延迟位D(Delay)：占用1位，该位置为1时，报文请求以短延迟信道传输，0表示正常延时。 高吞吐量位T(Throughput)：占用1位，该位为1时，报文请求以高吞吐量信道传输，0表示普通。 高可靠位R(Reliability)：占用1位，该位为1时，报文请求以高可靠性信道传输，0表示普通。
        保留位： 占用2位。
        <br> （4）总长度：16位。总长度字段是指整个IP报文的长度（头部+数据部）
        <br> （5）标识：16位。IP软件在存储器中维持一个计数器，每产生一个数据报，计数器就加1，并将此值赋给标识字段。 但这个“标识”不是序号，因为IP是无连接的服务，数据报不存在按序接收的问题。当数据报由于过长超过网络MTU必须分片时， 这个标识字段就会被复制到所有的数据报文标识字段，相同标识字段的值的各数据报片最后能够正确的重装位原来的数据报。
        <br> （6）标志：3位。R、DF（Don’t Fragment）、MF(More Fragment)三位。目前只有后两位有效， DF位：为1表示不分片，为0表示分片。MF：为1表示“更多的片”，为0表示这是最后一片。
        <br> （7）片偏移：13位。分片重组时会用到该字段。表示较长的分组在分片后，某片在原分组中的相对位置。以8个字节为偏移单位。
        <br> （8）生存时间：8位。它指定了数据报可以在网络中传输的最长时间。实际应用中把生存时间字段设置成了数据报可以经过的最大路由器数。 TTL的初始值由源主机设置（通常为32、64、128或256），一旦经过一个处理它的路由器，它的值就减1。 当该字段为0时，数据报就丢弃，并发送ICMP报文通知源主机，因此可以防止进入一个循环回路时，数据报无休止地传输下去。
        <br> （9）上层协议标识：8位。IP协议可以承载各种上层协议，目标端根据协议标识就可以把收到的IP数据报送到TCP或UDP等处理此报文的上层协议了。
        <br> （10）头部校验和：16位。用于协议头数据有效性的校验，可以保证IP报头区在传输时的正确性和完整性。 头部检验和字段是根据IP协议头计算出的检验和，它不对头部后面的数据进行计算。
        <br> （11）源地址：32位，表示发送端IP地址。
        <br> （12）目的地址：32位，表述目的端IP地址。 头部的长度被固定下来了，该部分总共占用了20字节，这20字节在头部内部分别分配给各个组成部分。 数据部的长度是可以变化的。 IP地址校验和计算原理：将头部的20字节的二进制数全部相加，得到的数据，如果有进位，就将进位的数添加到低位。最后取反。
    </p>
</body>

</html>